function createElement(t,e){"use strict";return"<"+t+">"+e+"</"+t+">"}function createBtn(t,e,o,i){"use strict";return'<button class="'+e+'" id="'+t+o+'" value="'+o+'" name="'+t+'">'+i+"</button>"}function load(t,e){"use strict";$("#"+t).text(e)}function loadForm(t,e){"use strict";$("#"+t).val(e)}function ObjectToString(t){"use strict";for(var e=Object.getOwnPropertyNames(t),o="",i=0;i<e.length;i++)"object"!=typeof t[e[i]]?o+=" "+t[e[i]]:o+=" "+ObjectToString(t[e[i]]);return o}function destructuringObject(t,e){"use strict";for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++)loadForm(e[i],t[o[i]])}$(document).ready(function(){"use strict";service().getUserId(localStorage.getItem("id"),function(t){loadDetails(t),backButton(),$(".loader").fadeOut()})}),$(document).ready(function(){"use strict";"create"===localStorage.getItem("selector")?loadCreate():loadModifyRemove(),backButton()}),$(document).ready(function(){"use strict";service().getUser(function(t){loadTable("userTable",t),clickBtnTable("form.html","create",""),submitModal(),$(".loader").fadeOut()})});var url="https://jsonplaceholder.typicode.com/users/";function service(){"use strict";return{getUser:function(t){$.getJSON(url,t)},getUserId:function(t,e){$.getJSON(url+t,e)}}}function clickBtnTable(t,e,o){"use strict";$("#"+e+o).click(function(){localStorage.setItem("id",o),localStorage.setItem("selector",e),window.open(t,"_self")})}function submit(t,e,o,i,n){"use strict";function r(){$.ajax({url:url+t,type:e,data:o,success:function(t,e){$("#"+i).text(n+" "+e),setTimeout(function(){window.open("index.html","_self")},2e3)},error:function(t,e,o){console.log(o)}})}$("#submit").click(function(){"delete"===e?window.confirm("Vuoi veramente cancellare l'utente?")&&r():r()})}function backButton(){"use strict";$("#back").click(function(){window.open("index.html","_self")})}function submitModal(){"use strict";$("#submit").click(function(){$("#modalContact").modal("toggle")})}function createTDS(t){"use strict";for(var e=Object.getOwnPropertyNames(t),o="",i=1;i<4;i++)o+=createElement("td",t[e[i]]);return o}function createTr(t){"use strict";var e=createTDS(t);return createElement("tr",e+=createElement("td",createBtn("details","btn btn-primary",t.id,"Dettagli")+createBtn("modify","btn btn-primary",t.id,"Modifica")+createBtn("remove","btn btn-primary",t.id,"Rimuovi")))}function loadRowTable(t,e){"use strict";var o=createTr(e);$("#"+t).append(o),clickBtnTable("details.html","details",e.id),clickBtnTable("form.html","modify",e.id),clickBtnTable("form.html","remove",e.id)}function loadTable(t,e){"use strict";for(var o=0;o<e.length;o++)loadRowTable(t,e[o])}function bindingDetails(t,e){"use strict";load(e,"object"!=typeof t?t:ObjectToString(t))}function loadDetails(t){"use strict";for(var e=Object.getOwnPropertyNames(t),o=["id","name","username","email","address","phone","website"],i=0;i<o.length;i++)bindingDetails(t[e[i]],o[i])}function loadCreate(){"use strict";$("#title").text("Crea"),$(".loader").fadeOut(),submit("","post",$("#contact").serialize,"result","Create")}function bindingForm(t,e){"use strict";"object"!=typeof t?loadForm(e,t):destructuringObject(t,["street","suite","city","zipcode"])}function bindForm(t){"use strict";for(var e=Object.getOwnPropertyNames(t),o=["id","name","username","email","","phone","website"],i=1;i<o.length;i++)bindingForm(t[e[i]],o[i])}function loadModify(){"use strict";$("#title").text("Modifica"),submit(localStorage.getItem("id"),"put",$("#contact").serialize,"result","modify")}function loadRemove(){"use strict";$("#title").text("Rimuovi"),$("#submit").val("Cancella"),submit(localStorage.getItem("id"),"delete",$("#contact").serialize,"result","delete")}function loadModifyRemove(){"use strict";service().getUserId(localStorage.getItem("id"),function(t){bindForm(t),"modify"===localStorage.getItem("selector")?loadModify():loadRemove(),$(".loader").fadeOut()})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlci5qcyIsImRldGFpbHMuanMiLCJmb3JtLmpzIiwiaW5kZXguanMiLCJzZXJ2aWNlLmpzIiwidmlldy5qcyJdLCJuYW1lcyI6WyJjcmVhdGVFbGVtZW50IiwidHlwZSIsImRhdGEiLCJjcmVhdGVCdG4iLCJuYW1lIiwiY2xhc3NCdG4iLCJpZCIsInZhbHVlIiwibG9hZCIsIiQiLCJ0ZXh0IiwibG9hZEZvcm0iLCJ2YWwiLCJPYmplY3RUb1N0cmluZyIsInByb3BlcnR5IiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInN0cmluZyIsImkiLCJsZW5ndGgiLCJkZXN0cnVjdHVyaW5nT2JqZWN0IiwiYXJyYXkiLCJkb2N1bWVudCIsInJlYWR5Iiwic2VydmljZSIsImdldFVzZXJJZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJsb2FkRGV0YWlscyIsImJhY2tCdXR0b24iLCJmYWRlT3V0IiwibG9hZENyZWF0ZSIsImxvYWRNb2RpZnlSZW1vdmUiLCJnZXRVc2VyIiwibG9hZFRhYmxlIiwiY2xpY2tCdG5UYWJsZSIsInN1Ym1pdE1vZGFsIiwidXJsIiwiY2FsbGJhY2siLCJnZXRKU09OIiwiaHRtbCIsImNsaWNrIiwic2V0SXRlbSIsIndpbmRvdyIsIm9wZW4iLCJzdWJtaXQiLCJyZXN1bHQiLCJ0eXBlQ2FsbCIsImNhbGxSZXN0IiwiYWpheCIsInN1Y2Nlc3MiLCJ0ZXh0U3RhdHVzIiwic2V0VGltZW91dCIsImVycm9yIiwiZXJyb3JUaHJvd24iLCJjb25zb2xlIiwibG9nIiwiY29uZmlybSIsIm1vZGFsIiwiY3JlYXRlVERTIiwidGRzIiwiY3JlYXRlVHIiLCJ0ciIsImxvYWRSb3dUYWJsZSIsInRhYmxlIiwiYXBwZW5kIiwiYmluZGluZ0RldGFpbHMiLCJhcnJheUlkIiwic2VyaWFsaXplIiwiYmluZGluZ0Zvcm0iLCJiaW5kRm9ybSIsImxvYWRNb2RpZnkiLCJsb2FkUmVtb3ZlIl0sIm1hcHBpbmdzIjoiQUFVQSxTQUFBQSxjQUFB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LEVBQUFuQixHQUFBa0Isb0JBQUFsQixHQUFBLFNBQUEsUUFBQSxPQUFBLFlBR0EsU0FBQW9FLFNBQUFwRSxHQUNBLGFBR0EsSUFGQSxJQUFBWSxFQUFBQyxPQUFBQyxvQkFBQWQsR0FDQWlFLEdBQUEsS0FBQSxPQUFBLFdBQUEsUUFBQSxHQUFBLFFBQUEsV0FDQWpELEVBQUEsRUFBQUEsRUFBQWlELEVBQUFoRCxPQUFBRCxJQUNBbUQsWUFBQW5FLEVBQUFZLEVBQUFJLElBQUFpRCxFQUFBakQsSUFHQSxTQUFBcUQsYUFDQSxhQUNBOUQsRUFBQSxVQUFBQyxLQUFBLFlBRUFtQyxPQUFBbkIsYUFBQUMsUUFBQSxNQUFBLE1BQUFsQixFQUFBLFlBQUEyRCxVQUFBLFNBQUEsVUFFQSxTQUFBSSxhQUNBLGFBQ0EvRCxFQUFBLFVBQUFDLEtBQUEsV0FDQUQsRUFBQSxXQUFBRyxJQUFBLFlBRUFpQyxPQUFBbkIsYUFBQUMsUUFBQSxNQUFBLFNBQUFsQixFQUFBLFlBQUEyRCxVQUFBLFNBQUEsVUFFQSxTQUFBcEMsbUJBQ0EsYUFFQVIsVUFBQUMsVUFBQUMsYUFBQUMsUUFBQSxNQUFBLFNBQUF6QixHQUNBb0UsU0FBQXBFLEdBQ0EsV0FBQXdCLGFBQUFDLFFBQUEsWUFBQTRDLGFBQUFDLGFBQ0EvRCxFQUFBLFdBQUFxQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmV4cG9ydGVkIGNyZWF0ZUVsZW1lbnQqL1xuLypleHBvcnRlZCBjcmVhdGVCdG4qL1xuLypleHBvcnRlZCBsb2FkKi9cbi8qZXhwb3J0ZWQgbG9hZEZvcm0qL1xuLypleHBvcnRlZCBPYmplY3RUb1N0cmluZyovXG4vKmV4cG9ydGVkIGRlc3RydWN0dXJpbmdPYmplY3QqL1xuLypnbG9iYWwgJCovXG4vKmpzaGludCBleHByOiB0cnVlKi9cblxuLy9jcmVhIHVuIGVsZW1lbnRvIGUgbG8gcmVzdGl0dWlzY2UgaW4gZm9ybWEgZGkgc3RyaW5nYVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBkYXRhKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiAnPCcgKyB0eXBlICsgJz4nICsgZGF0YSArICc8LycgKyB0eXBlICsgJz4nO1xufVxuLy9jcmVhIHVuIGVsZW1lbnRvIGJvdHRvbmUgY29uIHVuIG5vbWUsIGNsYXNzZSwgaWQgZSB2YWxvcmVcbmZ1bmN0aW9uIGNyZWF0ZUJ0bihuYW1lLCBjbGFzc0J0biwgaWQsIHZhbHVlKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiAnPGJ1dHRvbiBjbGFzcz1cIicgKyBjbGFzc0J0biArICdcIiBpZD1cIicgKyBuYW1lICsgaWQgKyAnXCIgdmFsdWU9XCInICsgaWQgKyAnXCIgbmFtZT1cIicgKyBuYW1lICsgJ1wiPicgKyB2YWx1ZSArICc8L2J1dHRvbj4nO1xufVxuZnVuY3Rpb24gbG9hZChpZCwgdmFsdWUpIHsvL2JpbmRpbmcgZ2VuZXJpY29cbiAgICAndXNlIHN0cmljdCc7XG4gICAgJCgnIycgKyBpZCkudGV4dCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBsb2FkRm9ybShpZCwgdmFsdWUpIHsvL2JpbmRpbmcgZGVsbGEgZm9ybVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICAkKCcjJyArIGlkKS52YWwodmFsdWUpO1xufVxuZnVuY3Rpb24gT2JqZWN0VG9TdHJpbmcoZGF0YSkgey8vY29udmVydGUgdW4gb2dnZXR0byBpbiBzdHJpbmdhXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBwcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRhdGEpO1xuICAgIHZhciBzdHJpbmcgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHR5cGVvZiBkYXRhW3Byb3BlcnR5W2ldXSAhPT0gJ29iamVjdCcgPyBzdHJpbmcgKz0gXCIgXCIgKyBkYXRhW3Byb3BlcnR5W2ldXSA6IHN0cmluZyArPSBcIiBcIiArIE9iamVjdFRvU3RyaW5nKGRhdGFbcHJvcGVydHlbaV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbn1cbi8vZGVzdHJ1dHR1cml6emEgb2dnZXR0byBlZCBlZmZldHR1YSBpbCBiaW5kaW5nIGRlaSBkYXRpXG5mdW5jdGlvbiBkZXN0cnVjdHVyaW5nT2JqZWN0KGRhdGEsIGFycmF5KSB7IFxuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnR5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8qanNoaW50IC1XMTE3ICovXG4gICAgICAgIGxvYWRGb3JtKGFycmF5W2ldLCBkYXRhW3Byb3BlcnR5W2ldXSk7XG4gICAgfVxufSIsIi8qZ2xvYmFsICQqL1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIC8vVW5hIHZvbHRhIGNoZSBpbCBET00gw6ggY2FyaWNhdG8gZXNlZ3VpIGxhIGZ1bnppb25lXG4gIFwidXNlIHN0cmljdFwiO1xuICAvKmpzaGludCAtVzExNyAqL1xuICBzZXJ2aWNlKCkuZ2V0VXNlcklkKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaWRcIiksIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBsb2FkRGV0YWlscyhkYXRhKTsvL2RlZmluaXRhIGluIHZpZXcuanMsIGVmZmV0dHVhIGlsIGJpbmRpbmcgZGVsIGNvbnRlbnV0byBkZWxsJ29nZXR0byBcbiAgICBiYWNrQnV0dG9uKCk7Ly9kZWZpbml0YSBpbiBzZXJ2aWNlLmpzLCBhc3NvY2lhIGFsIGNsaWNrIGRlbCBwdW5zYW50ZSBpbmRpZXRybyBsJ2FwZXJ0dXJhIGRlbGxhIHBhZ2luYSBpbmRleC5odG1sXG4gICAgJChcIi5sb2FkZXJcIikuZmFkZU91dCgpOy8vbmFzY29uZGUgZGl2IGxvYWRlclxuICB9KTtcbn0pO1xuIiwiLypnbG9iYWwgJCovXG4vKmpzaGludCBleHByOiB0cnVlKi9cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsvL1VuYSB2b2x0YSBjaGUgaWwgRE9NIMOoIGNhcmljYXRvIGVzZWd1aSBsYSBmdW56aW9uZVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIC8vbG9hZE1vZGlmeVJlbW92ZSBlIExvYWRDcmVhdGUgZGVmaW5pdGUgaW4gdmlldy5qc1xuICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RvcicpPT09J2NyZWF0ZSc/bG9hZENyZWF0ZSgpOmxvYWRNb2RpZnlSZW1vdmUoKTtcbiAgICBiYWNrQnV0dG9uKCk7IC8vZGVmaW5pdGEgaW4gc2VydmljZS5qcywgYXNzb2NpYSBhbCBjbGljayBkZWwgcHVuc2FudGUgaW5kaWV0cm8gbCdhcGVydHVyYSBkZWxsYSBwYWdpbmEgaW5kZXguaHRtbCBcbn0pOyIsIi8qZ2xvYmFsICQqL1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKXsvL1VuYSB2b2x0YSBjaGUgaWwgRE9NIMOoIGNhcmljYXRvIGVzZWd1aSBsYSBmdW56aW9uZVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIHNlcnZpY2UoKS5nZXRVc2VyKGZ1bmN0aW9uIChkYXRhKXtcbiAgICAgICAgbG9hZFRhYmxlKFwidXNlclRhYmxlXCIsZGF0YSk7IC8vZnVuemlvbmUgZGVmaW5pdGEgaW4gdmlldy5qcywgY3JlYSBsYSB0YWJlbGxhIHBhc3NhbmRvIGwnb2dnZXR0byBkYXRhIHJpY2V2dXRvIFxuICAgICAgICBjbGlja0J0blRhYmxlKCdmb3JtLmh0bWwnLCdjcmVhdGUnLCcnKTsgLy9mdW56aW9uZSBkZWZpbml0YSBpbiBzZXJ2aWNlLmpzXG4gICAgICAgIHN1Ym1pdE1vZGFsKCk7Ly9mdW56aW9uZSBkZWZpbml0YSBpbiBzZXJ2aWNlLmpzXG4gICAgICAgICQoJy5sb2FkZXInKS5mYWRlT3V0KCk7IC8vbmFzY29uZGUgZGl2IGxvYWRlclxuICAgIH0pO1xufSk7XG5cbiIsIi8qZ2xvYmFsICQqL1xuLypleHBvcnRlZCBzZXJ2aWNlKi9cbi8qZXhwb3J0ZWQgY2xpY2tCdG5UYWJsZSovXG4vKmV4cG9ydGVkIGJhY2tCdXR0b24qL1xuLypleHBvcnRlZCBjYWxsUmVzdCovXG4vKmV4cG9ydGVkIHN1Ym1pdCovXG4vKmV4cG9ydGVkIHN1Ym1pdE1vZGFsKi9cbi8qanNoaW50IGV4cHI6IHRydWUqL1xudmFyIHVybCA9IFwiaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3VzZXJzL1wiO1xuZnVuY3Rpb24gc2VydmljZSgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0VXNlcjogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAkLmdldEpTT04odXJsLCBjYWxsYmFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFVzZXJJZDogZnVuY3Rpb24gKGlkLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgJC5nZXRKU09OKHVybCArIGlkLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY2xpY2tCdG5UYWJsZShodG1sLCB0eXBlLCBpZCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAkKCcjJyArIHR5cGUgKyBpZCkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWQnLCBpZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RvcicsIHR5cGUpO1xuICAgICAgICB3aW5kb3cub3BlbihodG1sLCBcIl9zZWxmXCIpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc3VibWl0KGlkLCB0eXBlLCBkYXRhLCByZXN1bHQsIHR5cGVDYWxsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgICQoJyNzdWJtaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qanNoaW50IC1XMTE3ICovXG4gICAgICAgIHR5cGUgPT09ICdkZWxldGUnID8gZGVsKCkgOiBjYWxsUmVzdCgpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGRlbCgpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKFwiVnVvaSB2ZXJhbWVudGUgY2FuY2VsbGFyZSBsJ3V0ZW50ZT9cIikpIHtcbiAgICAgICAgICAgIGNhbGxSZXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbFJlc3QoKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IHVybCArIGlkLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgICAgICQoJyMnICsgcmVzdWx0KS50ZXh0KHR5cGVDYWxsICsgXCIgXCIgKyB0ZXh0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oXCJpbmRleC5odG1sXCIsIFwiX3NlbGZcIik7XG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYmFja0J1dHRvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgJCgnI2JhY2snKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKCdpbmRleC5odG1sJywgXCJfc2VsZlwiKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc3VibWl0TW9kYWwoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgICQoJyNzdWJtaXQnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAkKCcjbW9kYWxDb250YWN0JykubW9kYWwoJ3RvZ2dsZScpO1xuICAgIH0pO1xufVxuIiwiLypnbG9iYWwgJCovXG4vKmV4cG9ydGVkIGxvYWRUYWJsZSovXG4vKmV4cG9ydGVkIGxvYWREZXRhaWxzKi9cbi8qZXhwb3J0ZWQgbG9hZENyZWF0ZSovXG4vKmV4cG9ydGVkIGxvYWRNb2RpZnlSZW1vdmUqL1xuLypqc2hpbnQgZXhwcjogdHJ1ZSovXG5mdW5jdGlvbiBjcmVhdGVURFMoZGF0YSkgey8vY3JlYSB0dXR0aSBpIHRkIG5lY2Vzc2FyaSBlIGxpIHJlc3RpdHVpc2NlIGluIHN0cmluZ2FcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YSk7XG4gICAgdmFyIHRkcyA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIC8qanNoaW50IC1XMTE3ICovXG4gICAgICAgIHRkcyArPSBjcmVhdGVFbGVtZW50KCd0ZCcsIGRhdGFbcHJvcGVydHlbaV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHRkcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRyKGRhdGEpIHsvL2NyZWEgcmlnYSB0YWJlbGxhLCByZXN0aXR1aXNjZSB1bmEgc3RyaW5nYVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgdHIgPSBjcmVhdGVURFMoZGF0YSk7XG4gICAgLypqc2hpbnQgLVcxMTcgKi9cbiAgICB0ciArPSBjcmVhdGVFbGVtZW50KCd0ZCcsIGNyZWF0ZUJ0bignZGV0YWlscycsICdidG4gYnRuLXByaW1hcnknLCBkYXRhLmlkLCAnRGV0dGFnbGknKSArXG4gICAgICAgIGNyZWF0ZUJ0bignbW9kaWZ5JywgJ2J0biBidG4tcHJpbWFyeScsIGRhdGEuaWQsICdNb2RpZmljYScpICtcbiAgICAgICAgY3JlYXRlQnRuKCdyZW1vdmUnLCAnYnRuIGJ0bi1wcmltYXJ5JywgZGF0YS5pZCwgJ1JpbXVvdmknKSk7XG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ3RyJywgdHIpO1xufVxuZnVuY3Rpb24gbG9hZFJvd1RhYmxlKHRhYmxlLCBkYXRhKSB7Ly9hcHBlbmRlIGxhIHJpZ2EgYWxsYSB0YWJlbGxhIGUgYWdnaXVuZ2UgbCdldmVudCBjbGljayBhaSBib3R0b25pXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB0ciA9IGNyZWF0ZVRyKGRhdGEpO1xuICAgICQoJyMnICsgdGFibGUpLmFwcGVuZCh0cik7XG4gICAgLypqc2hpbnQgLVcxMTcgKi9cbiAgICBjbGlja0J0blRhYmxlKCdkZXRhaWxzLmh0bWwnLCAnZGV0YWlscycsIGRhdGEuaWQpO1xuICAgIC8qanNoaW50IC1XMTE3ICovXG4gICAgY2xpY2tCdG5UYWJsZSgnZm9ybS5odG1sJywgJ21vZGlmeScsIGRhdGEuaWQpO1xuICAgIC8qanNoaW50IC1XMTE3ICovXG4gICAgY2xpY2tCdG5UYWJsZSgnZm9ybS5odG1sJywgJ3JlbW92ZScsIGRhdGEuaWQpO1xufVxuZnVuY3Rpb24gbG9hZFRhYmxlKHRhYmxlLCBkYXRhKSB7Ly9jcmVhIHRhYmVsbGEgY29uIGwnb2dnZXR0byBwYXNzYXRvXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsb2FkUm93VGFibGUodGFibGUsIGRhdGFbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJpbmRpbmdEZXRhaWxzKGRhdGEsIGlkKSB7Ly9lZmZldHR1YSBpbCBiaW5kaW5nIGRlaSBkZXR0YWdsaVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIC8vc2UgdW5hIHByb3ByaWV0w6Agw6ggYXNzb2NpYXRhIGFkIHVuIG9nZ2V0dG8gbG8gZGVzdHJ1dHR1cml6emEgY29uIE9iamVjdFRvU3RyaW5nXG4gICAgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnID8gbG9hZChpZCwgZGF0YSkgOiBsb2FkKGlkLCBPYmplY3RUb1N0cmluZyhkYXRhKSk7XG59XG5mdW5jdGlvbiBsb2FkRGV0YWlscyhkYXRhKSB7Ly9mdW56aW9uZSBpbml6aWFsZSwgZWZmZXR0dWVyw6AgaWwgYmluZGluZyBjb24gbGEgZnVuemlvbmUgYmluZGluZyBkZXRhaWxcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YSk7XG4gICAgdmFyIGFycmF5SWQgPSBbJ2lkJywgJ25hbWUnLCAndXNlcm5hbWUnLCAnZW1haWwnLCAnYWRkcmVzcycsICdwaG9uZScsICd3ZWJzaXRlJ107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJpbmRpbmdEZXRhaWxzKGRhdGFbcHJvcGVydHlbaV1dLCBhcnJheUlkW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsb2FkQ3JlYXRlKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAkKCcjdGl0bGUnKS50ZXh0KCdDcmVhJyk7XG4gICAgJCgnLmxvYWRlcicpLmZhZGVPdXQoKTtcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIHN1Ym1pdCgnJywgJ3Bvc3QnLCAkKCcjY29udGFjdCcpLnNlcmlhbGl6ZSwgJ3Jlc3VsdCcsICdDcmVhdGUnKTsvL2NoaWFtYXRhIHJlc3QgYWwgc2Vydml6aW8gKHBvc3QpXG59XG5mdW5jdGlvbiBiaW5kaW5nRm9ybShkYXRhLCBhcnJheSkgey8vIGVmZmV0dHVhIGlsIGJpbmRpbmcgZGVsbGEgZm9ybVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JyA/IGxvYWRGb3JtKGFycmF5LCBkYXRhKSA6IGRlc3RydWN0dXJpbmdPYmplY3QoZGF0YSwgWydzdHJlZXQnLCAnc3VpdGUnLCAnY2l0eScsICd6aXBjb2RlJ10pO1xufVxuLy9mdW56aW9uZSBpbml6aWFsZSwgZWZmZXR0dWVyw6AgaWwgYmluZGluZyBjb24gbGEgZnVuemlvbmUgYmluZGluZ0Zvcm1cbmZ1bmN0aW9uIGJpbmRGb3JtKGRhdGEpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGF0YSk7XG4gICAgdmFyIGFycmF5SWQgPSBbJ2lkJywgJ25hbWUnLCAndXNlcm5hbWUnLCAnZW1haWwnLCAnJywgJ3Bob25lJywgJ3dlYnNpdGUnXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFycmF5SWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluZGluZ0Zvcm0oZGF0YVtwcm9wZXJ0eVtpXV0sIGFycmF5SWRbaV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvYWRNb2RpZnkoKSB7Ly9yZW5kZSBmb3JtLmh0bWwgaW4gbW9kYWxpdMOgIG1vZGlmaWNhXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgICQoJyN0aXRsZScpLnRleHQoJ01vZGlmaWNhJyk7XG4gICAgLypqc2hpbnQgLVcxMTcgKi9cbiAgICBzdWJtaXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksICdwdXQnLCAkKCcjY29udGFjdCcpLnNlcmlhbGl6ZSwgJ3Jlc3VsdCcsICdtb2RpZnknKTtcbn1cbmZ1bmN0aW9uIGxvYWRSZW1vdmUoKSB7Ly9yZW5kZSBmb3JtLmh0bWwgaW4gbW9kYWxpdMOgIGNhbmNlbGxhXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgICQoJyN0aXRsZScpLnRleHQoJ1JpbXVvdmknKTtcbiAgICAkKCcjc3VibWl0JykudmFsKCdDYW5jZWxsYScpOy8vYXNzZWduYSB2YWxvcmUgY2FuY2VsbGEgYWwgYm90dG9uZVxuICAgICAgICAvKmpzaGludCAtVzExNyAqL1xuICAgICAgICBzdWJtaXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksICdkZWxldGUnLCAkKCcjY29udGFjdCcpLnNlcmlhbGl6ZSwgJ3Jlc3VsdCcsICdkZWxldGUnKTsgXG59XG5mdW5jdGlvbiBsb2FkTW9kaWZ5UmVtb3ZlKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKmpzaGludCAtVzExNyAqL1xuICAgIHNlcnZpY2UoKS5nZXRVc2VySWQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGJpbmRGb3JtKGRhdGEpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0b3InKSA9PT0gJ21vZGlmeScgPyBsb2FkTW9kaWZ5KCkgOiBsb2FkUmVtb3ZlKCk7XG4gICAgICAgICQoJy5sb2FkZXInKS5mYWRlT3V0KCk7XG4gICAgfSk7XG59Il19
